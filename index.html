---
title: Activity log
---

<div id="distance-this-week"></div>

<script>

function addDays(date, days) {
  var result = new Date(date);
  result.setDate(result.getDate() + days);
  return result;
}

d3.json('data/distance.json', function(data) {
    var today = new Date().setHours(0, 0, 0);
    var min_date = addDays(today, -7);
    var max_date = new Date(today);

    const porchHours = 2;
    min_date = min_date.setHours(min_date.getHours() - porchHours);
    max_date = max_date.setHours(max_date.getHours() + porchHours);

    data = MG.convert.date(data, 'date');

    MG.data_graphic({
        title: 'Distance in the last 7 days',
        target: '#distance-this-week',
        data: data,
        full_width: true,
        missing_is_zero: true,
        interpolate: d3.curveLinear,

        min_x: min_date,
        max_x: max_date,

        area: false,

        x_accessor: 'date',
        y_accessor: 'distance',
        yax_units: "km",
        yax_units_append: true,

        point_size: 3,
        active_point_on_lines: true,
        active_point_accessor: 'distance',
        active_point_size: 3,
    });
});
</script>

<h2>Recent</h2>
$partial("templates/post-list.html")$

<p>â€¦or you can find more in the <a href="/archive">archives</a>.</p>
