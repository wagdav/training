<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>The Wagner Training | Activity log</title>
        <link rel="icon" href="./images/favicon.png" />
        <link rel="stylesheet" href="./css/default.css" />
        <link rel="stylesheet" href="./assets/metrics-graphics/dist/metricsgraphics.css" />
        <link rel="stylesheet" href="./assets/leaflet/dist/leaflet.css" />
        <script src="./assets/jquery/dist/jquery.min.js"></script>
        <script src="./assets/d3/build/d3.min.js"></script>
        <script src="./assets/leaflet/dist/leaflet.js"></script>
        <script src="./assets/@mapbox/leaflet-omnivore/leaflet-omnivore.min.js"></script>
        <script src="./assets/metrics-graphics/dist/metricsgraphics.min.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <a href="./">Home</a>
                <a href="./archive">Archive</a>
                <a href="./about">About</a>
            </nav>
        </header>

        <main role="main">
            <h1>Activity log</h1>
            <div id="distance-this-week"></div>

<script>

function addDays(date, days) {
  var result = new Date(date);
  result.setDate(result.getDate() + days);
  return result;
}

d3.json('data/distance.json', function(data) {
    var today = new Date().setHours(0, 0, 0);
    var min_date = addDays(today, -7);
    var max_date = new Date(today);

    const porchHours = 2;
    min_date = min_date.setHours(min_date.getHours() - porchHours);
    max_date = max_date.setHours(max_date.getHours() + porchHours);

    data = MG.convert.date(data, 'date');

    MG.data_graphic({
        title: 'Distance in the last 7 days',
        target: '#distance-this-week',
        data: data,
        full_width: true,
        missing_is_zero: true,
        interpolate: d3.curveLinear,

        min_x: min_date,
        max_x: max_date,

        area: false,

        x_accessor: 'date',
        y_accessor: 'distance',
        yax_units: "km",
        yax_units_append: true,

        point_size: 3,
        active_point_on_lines: true,
        active_point_accessor: 'distance',
        active_point_size: 3,
    });
});
</script>

<h2>Recent</h2>
<ul>
    
        <li>
            <a href="./posts/2018-11-25-Villeneuve-Col-de-Chaud-Allieres/">Villeneuve - Col de Chaude - Allières</a> - November 25, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-24-Sauvabelin/">Sauvabelin</a> - November 24, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-22-Riponne-Chalet-a-Gobet/">Riponne - Chalet-à-Gobet</a> - November 22, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-21-Daily-back-excercises/">Daily back excercises</a> - November 21, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-20-Pyramides/">Pyramides</a> - November 20, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-19-Curling/">Curling</a> - November 19, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-18-Col-de-la-Croix-Bretaye/">Col de la Croix - Bretaye</a> - November 18, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-17-Romanel-Le-Mont/">Romanel - Le Mont</a> - November 17, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-15-Lakeside/">Short pyramides</a> - November 15, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-13-Sauvabelin/">Sauvabelin</a> - November 13, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-12-Curling/">Curling</a> - November 12, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-11-Nyon-St-Cergue/">Nyon - Chalet de la Dôle - St. Cergue</a> - November 11, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-08-Evening-run/">Evening run</a> - November  8, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-07-Sauvabelin/">Sauvabelin</a> - November  7, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-05-Curling/">Curling</a> - November  5, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-03-Merdasson/">Merdasson</a> - November  3, 2018
        </li>
    
        <li>
            <a href="./posts/2018-10-29-Curling/">Curling</a> - October 29, 2018
        </li>
    
        <li>
            <a href="./posts/2018-10-07-Morat-Fribourg-2018/">Morat-Fribourg 2018</a> - October  7, 2018
        </li>
    
        <li>
            <a href="./posts/2018-07-07-Etape-du-Tour/">Etape du Tour 2018</a> - July  7, 2018
        </li>
    
</ul>


<p>…or you can find more in the <a href="./archive">archives</a>.</p>

        </main>

        <footer>
            © 2018 David Wagner. All Rights Reserved
        </footer>
    </body>
</html>
