<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>The Wagner Training | Activity log</title>
        <link rel="icon" href="./images/favicon.png" />
        <link rel="stylesheet" href="./css/default.css" />
        <link rel="stylesheet" href="./assets/metrics-graphics/dist/metricsgraphics.css" />
        <link rel="stylesheet" href="./assets/leaflet/dist/leaflet.css" />
        <link rel="stylesheet" href="./assets/leaflet-fullscreen/dist/leaflet.fullscreen.css" />
        <script src="./assets/jquery/dist/jquery.min.js"></script>
        <script src="./assets/d3/build/d3.min.js"></script>
        <script src="./assets/leaflet/dist/leaflet.js"></script>
        <script src="./assets/leaflet-fullscreen/dist/Leaflet.fullscreen.min.js"></script>
        <script src="./assets/@mapbox/leaflet-omnivore/leaflet-omnivore.min.js"></script>
        <script src="./assets/metrics-graphics/dist/metricsgraphics.min.js"></script>
    </head>
    <body>
        <header>
            <nav>
                <a href="./">Home</a>
                <a href="./archive">Archive</a>
                <a href="./about">About</a>
            </nav>
        </header>

        <main role="main">
            <h1>Activity log</h1>
            <div id="distance-this-week"></div>

<script>

function addDays(date, days) {
  var result = new Date(date);
  result.setDate(result.getDate() + days);
  return result;
}

d3.json('data/distance.json', function(data) {
    data = MG.convert.date(data, 'date');
    var totals = new Array();
    var total_distance = 0;
    for (i = 0; i < data.length; i++) {
        total_distance += data[i].distance;
        console.log(data[i].date, total_distance);
        totals[i] = {
            "date": new Date(data[i].date),
            "distance": total_distance,
        }
    }

    MG.data_graphic({
        title: 'Distance in the last 7 days',
        target: '#distance-this-week',
        data: totals,
        full_width: true,
        interpolate: d3.curveLinear,

        x_accessor: 'date',
        y_accessor: 'distance',
        yax_units: "km",
        yax_units_append: true,

        point_size: 3,
        active_point_on_lines: true,
        active_point_accessor: 'distance',
        active_point_size: 3,
    });
});
</script>

<h2>Recent</h2>
<ul>
    
        <li>
            <a href="./posts/2018-12-04-Sauvabelin/">Sauvabelin</a> - December  4, 2018
        </li>
    
        <li>
            <a href="./posts/2018-12-03-Curling/">Curling</a> - December  3, 2018
        </li>
    
        <li>
            <a href="./posts/2018-12-01-Epalinges-Echallens/">Epalinges - Echallens</a> - December  1, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-28-Sauvabelin/">Sauvabelin</a> - November 28, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-27-Short-Pyramides/">Short pyramides</a> - November 27, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-26-Curling/">Curling</a> - November 26, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-25-Villeneuve-Col-de-Chaud-Allieres/">Villeneuve - Col de Chaude - Allières</a> - November 25, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-24-Sauvabelin/">Sauvabelin</a> - November 24, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-22-Riponne-Chalet-a-Gobet/">Riponne - Chalet-à-Gobet</a> - November 22, 2018
        </li>
    
        <li>
            <a href="./posts/2018-11-21-Daily-back-excercises/">Daily back excercises</a> - November 21, 2018
        </li>
    
</ul>


<p>…or you can find more in the <a href="./archive">archives</a>.</p>

        </main>

        <footer>
            © 2018 David Wagner. All Rights Reserved
        </footer>
    </body>
</html>
